<section class="page-section" data-section-id="{{ section.id }}">
  <div class="container">
    <header class="page-header">
      <h1>Collections</h1>
    </header>

    <div class="blog-grid">
      {%- for collection in collections -%}
        {%- unless collection.handle == 'frontpage' -%}
          <a href="{{ collection.url }}" class="blog-card">
            <div class="blog-card-image">
              {%- if collection.image -%}
                <img
                  src="{{ collection.image | image_url: width: 800 }}"
                  alt="{{ collection.image.alt | default: collection.title }}"
                  width="400"
                  height="300"
                  loading="lazy"
                >
              {%- elsif collection.products.first.featured_image -%}
                <img
                  src="{{ collection.products.first.featured_image | image_url: width: 800 }}"
                  alt="{{ collection.title }}"
                  width="400"
                  height="300"
                  loading="lazy"
                >
              {%- else -%}
                <img
                  src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 400 300'%3E%3Crect fill='%23f5f0eb' width='400' height='300'/%3E%3Ctext x='50%25' y='50%25' fill='%23999' text-anchor='middle' dy='.3em' font-family='sans-serif'%3ECollection%3C/text%3E%3C/svg%3E"
                  alt="Collection placeholder"
                  width="400"
                  height="300"
                  loading="lazy"
                >
              {%- endif -%}
            </div>
            <div class="blog-card-content">
              <h3 class="blog-card-title">{{ collection.title }}</h3>
              <p class="blog-card-excerpt text-mono">{{ collection.products_count }} products</p>
            </div>
          </a>
        {%- endunless -%}
      {%- endfor -%}
    </div>
  </div>
</section>

{% schema %}
{
  "name": "List Collections",
  "tag": "section",
  "settings": []
}
{% endschema %}
