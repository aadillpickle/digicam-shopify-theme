<section class="page-section" data-section-id="{{ section.id }}">
  <div class="container container-narrow">
    <header class="page-header">
      <h1>My Account</h1>
      <p>Welcome back, {{ customer.first_name }}!</p>
    </header>

    <div class="account-actions mb-xl">
      <a href="{{ routes.account_logout_url }}" class="btn btn-secondary">Log out</a>
    </div>

    <div class="account-section mb-xl">
      <h2>Order History</h2>

      {%- if customer.orders.size > 0 -%}
        <div class="orders-list">
          {%- for order in customer.orders -%}
            <div class="cart-item">
              <div class="cart-item-details" style="grid-column: span 3;">
                <h3 style="font-family: var(--font-mono);">{{ order.name }}</h3>
                <p class="text-mono" style="color: var(--color-text-light);">
                  {{ order.created_at | date: '%B %d, %Y' }} - {{ order.financial_status_label }}
                </p>
                <p>{{ order.total_price | money }}</p>
                <a href="{{ order.customer_url }}" class="cart-item-remove">View order</a>
              </div>
            </div>
          {%- endfor -%}
        </div>
      {%- else -%}
        <p style="color: var(--color-text-light);">You haven't placed any orders yet.</p>
        <a href="/" class="btn btn-primary mt-md">Start Shopping</a>
      {%- endif -%}
    </div>

    <div class="account-section">
      <h2>Account Details</h2>

      <div class="product-specs">
        <div class="specs-grid">
          <div class="spec-item" style="grid-column: span 2;">
            <span class="spec-label">Name</span>
            <span class="spec-value">{{ customer.name }}</span>
          </div>
          <div class="spec-item" style="grid-column: span 2;">
            <span class="spec-label">Email</span>
            <span class="spec-value">{{ customer.email }}</span>
          </div>
        </div>
      </div>

      {%- if customer.default_address -%}
        <div class="product-specs mt-md">
          <h3 class="specs-title">Default Address</h3>
          <p>{{ customer.default_address | format_address }}</p>
        </div>
      {%- endif -%}

      <a href="{{ routes.account_addresses_url }}" class="btn btn-secondary mt-md">Manage Addresses</a>
    </div>
  </div>
</section>

{% schema %}
{
  "name": "Customer Account",
  "tag": "section",
  "settings": []
}
{% endschema %}
